stages:
    - cppcheck
    - clang
    - doxygen
    
CPPCHECK:
    stage: cppcheck
    image: ubuntu:bionic
    before_script:
        - apt update
        - apt install -y --no-install-recommends cppcheck
        - cppcheck --version
    script:
        - cppcheck src/*.cpp --verbose --enable=all --inconclusive --check-config
        
CLANG:
    stage: clang
    image: archlinux/base
    variables:
        CC: clang
        CXX: clang++
    before_script:
        - pacman -Syu --needed --noconfirm clang-tools-extra
        - clang-tidy --version
    script:
        - clang-tidy src/*.cpp -warnings-as-errors="*" -checks="-",clang-analyzer-*